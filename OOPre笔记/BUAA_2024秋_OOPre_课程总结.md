# BUAA_2024秋\_OOPre\_课程总结

## 一、作业最终架构设计

![image-20241101220348624](E:\myFolder_3\24秋\OOPre笔记\assets\image-20241101220348624.png)

1. 在迭代过程中，参考第四次作业的样例代码启示，把 `MainClass`类中的内容拿出去，新建一个 `Solver` 类，专门处理输入解析和功能实现函数。在 `JUnit`测试环节，不需要测试 `MainClass`类。

2. 结构化管理：

   - 顶层解析处理类`Solver` 存储冒险者集合，站在**游戏全局**的角度；

   - 冒险者类除基本属性外，存储冒险者的装备集合、药水瓶集合、背包物品集合、雇佣的冒险者集合，碎片集合等，站在**单个冒险者的角度**；

   - 药水瓶、装备均涉及到**继承和多态**，因此需要父类提取共性特征；副本部分相对独立，构造`treasure` 接口和`Guard` 接口，然后利用**工厂模式**进行架构即可。

3. 在迭代过程中，要时刻保持”高内聚低耦合“的设计思想，做到模块化和层次化，注重对象和对象之间的**关系**，保证每个方法内部实现**功能单一**，**分支数较浅**。

4. 参考优秀代码后，我的架构还有以下不足：

   - 最好建立一个具有`CE` 属性的**父类**，`Adventurer` 、`Bottle` 等具有`CE` 属性的类都应该继承这个父类；

   - `Adventurer`类中的功能可以进一步优化整合，进行代码**重构**；

   - **对象管理**仍可以优化，存储方式可以更加加强，在 `ArrayList` 、`HashMap` 等常见容器中进行理性选择。例如，`HashMap` 涉及到键值存储。完全可以把值作为实例化对象，而不是只存`integer` 的`ID` ，导致每次查找都需要遍历对象的`ID` 。

##  二、使用JUnit的心得体会

参考了优秀样例代码，发现JUnit主要有以下两种构造方式：

- 对类、方法进行**一一测试**
- 整体构造**测试用例**进行一体化测试

个人完全采用了第一种模式。总结认为，可以基本的简单方法使用第一种方式，对于较为复杂、分支数较多的方法，可以直接构造测试用例进行测试。然而，人工构造数据可能需要较高的细心和耐心。

JUnit测试发挥重要的用途，尤其是在自行debug方面，通过底层的分析化测试方法，一定程度上避免高层的错误。

## 三、学习OOPre心得体会

面向过程编程到面向对象编程是一次重大的思想转变。在第二次作业初构框架时，我仍受困于面向过程的思想，不知道如何分配各个类的功能和职责。

个人总结出面向过程编程和面向对象编程有以下主要区别：

- 面向**过程**实际上就是把一个流水线工程按照**时间维度**拆分为不同的**步骤**函数，侧重于**纵向**划分；
- 而面向**对象**编程侧重于将复杂的结构拆解为不同对象”**职能**“的集合，通过不同对象功能的相互**配合**完成复杂的任务，侧重于**横向**的划分。

## 四、对OOPre课程的建议

1. 希望能在初学阶段多加一些IDEA调试等功能的进一步讲解
2. 希望在课程中后期增加一些关于评测的拓展内容，例如数据的约束和生成、评测机的写法

## 五、总结

OOPre对我来说是第一门让我在编程思想上有重大变革和进步的课程。优秀的课程设计、有趣的故事背景、细心的助教解答都让我感受到面向对象编程的强大魅力。下学期OO愉快！